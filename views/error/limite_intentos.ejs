<%- include('../partials/header') %>

    <div class="min-h-screen flex items-center justify-center p-4 bg-slate-900">
        <div class="glass-card w-full max-w-lg rounded-3xl p-10 text-center shadow-2xl border border-red-500/30">

            <div class="relative mb-6">
                <div
                    class="bg-red-500/20 w-24 h-24 rounded-full flex items-center justify-center mx-auto animate-pulse">
                    <i class="fas fa-hand-paper text-red-500 text-5xl"></i>
                </div>
                <div class="absolute top-0 right-1/3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full">
                    429
                </div>
            </div>

            <h1 class="text-3xl font-black text-white mb-4 tracking-tight">¡Demasiados Intentos!</h1>

            <p class="text-slate-400 text-lg mb-8 leading-relaxed">
                Por seguridad, hemos bloqueado temporalmente el acceso desde tu dirección IP debido a múltiples intentos
                fallidos.
            </p>

            <div class="bg-slate-900/80 rounded-2xl p-6 mb-8 border border-slate-700">
                <p class="text-sm text-slate-500 uppercase tracking-widest font-bold mb-2">Podrás reintentar en:</p>
                <div id="countdown" class="text-4xl font-mono font-bold text-indigo-400">
                    15:00
                </div>
            </div>

            <div class="space-y-4">
                <a href="/"
                    class="block w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-4 rounded-xl transition-all">
                    <i class="fas fa-redo-alt mr-2 text-sm"></i> Volver a intentar
                </a>
                <p class="text-xs text-slate-600">
                    Si crees que esto es un error, contacta al administrador de <b>
                        <%= empresa.nombre %>
                    </b>.
                </p>
            </div>
        </div>
    </div>


    <script>
        let seconds = 900; // 15 minutos en segundos
        const display = document.querySelector('#countdown');

        const timer = setInterval(() => {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;

            display.innerHTML = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

            if (--seconds < 0) {
                clearInterval(timer);
                display.innerHTML = "¡Listo!";
                window.location.reload(); // Recarga automáticamente cuando termina
            }
        }, 1000);
    </script>


    <%- include('../partials/footer') %>